(this["webpackJsonpmy-new-app"]=this["webpackJsonpmy-new-app"]||[]).push([[0],{50:function(e,t,a){e.exports=a(86)},86:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(23),l=a.n(r),o=a(9),s=a(4),i=a(5),m=a(7),u=a(6),p=a(3),d=a(8),g=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"container"},c.a.createElement("p",{className:"font-italic font-weight-bolder h1 text-center mt-5 pt-5"},"Ticket management"),c.a.createElement("div",{className:"d-flex justify-content-center pt-5"},c.a.createElement(d.b,{to:"/login"},c.a.createElement("button",{type:"button",className:"btn btn-lg btn-info m-4"},"Login")))))}}]),a}(n.Component),h=Object(p.b)((function(e){return{}}),(function(e){return{}}))(g),E=a(12),f=a(18),b=a.n(f),v=function(e,t,a){return function(n){console.log(e,t,a),b.a.get("http://ticketbackend.gunjan.tech/view_tickets",{params:{company_id:e,page:t,per_page:a}}).then((function(e){return e.data})).then((function(e){return n({type:"VIEW_TICKET",payload:e})})).catch((function(e){return console.log(e)}))}},y=function(e){return function(t){console.log(e),b.a.get("http://ticketbackend.gunjan.tech/get_comments/".concat(e)).then((function(e){return e.data})).then((function(e){return t(function(e){return{type:"GET_COMMENTS",payload:e}}(e))})).catch((function(e){return console.log(e)}))}},N=function(e){return function(t){var a=e[0],n=e[1];console.log(a,e[1]),b.a.post("http://ticketbackend.gunjan.tech/add_comment",a).then((function(e){return e.data})).then((function(e){return t(y(n))})).catch((function(e){return console.log(e)}))}},k=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(E.a)({},e.target.name,e.target.value))},n.state={email:"",password:"",role:""},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.login,n=t.loginSuccess;return console.log(n),c.a.createElement(c.a.Fragment,null,n&&"company"===n.role?c.a.createElement(o.a,{to:"/companyDashboard"}):"",n&&"user"===n.role?c.a.createElement(o.a,{to:"/userDashboard"}):"",c.a.createElement("div",{className:"container"},c.a.createElement("h3",{className:"text-center m-3"},"Login"),c.a.createElement("div",{className:"border row offset-3 col-md-6 p-3 shadow-lg p-3 mb-5 bg-white rounded border border-info"},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"form-group col-12"},c.a.createElement("label",null,"Email"),c.a.createElement("input",{className:"form-control",name:"email",type:"text",value:this.state.email,onChange:this.handleChange,placeholder:"email"})),c.a.createElement("div",{className:"form-group col-12"},c.a.createElement("label",null,"Password"),c.a.createElement("input",{className:"form-control",name:"password",type:"password",value:this.state.password,onChange:this.handleChange,placeholder:"password"})),c.a.createElement("div",{className:"form-group col-md-4"},c.a.createElement("label",null,"Role"),c.a.createElement("select",{className:"form-control",name:"role",value:this.state.role,onChange:this.handleChange},c.a.createElement("option",null,"Role"),c.a.createElement("option",{value:"company"},"Company"),c.a.createElement("option",{value:"user"},"User")))),c.a.createElement("button",{className:"btn btn-info ml-5 mt-3",onClick:function(t){t.preventDefault(),a(e.state)}},"Login"),c.a.createElement("p",{className:"m-3 ml-5 pl-5"},"Not have an account ?"),c.a.createElement(d.b,{to:"/signUp"},c.a.createElement("button",{className:"btn btn-info mt-3"},"SignUp")))))}}]),a}(n.Component),C=Object(p.b)((function(e){return{loginSuccess:e.loginSuccess}}),(function(e){return{login:function(t){return e(function(e){return function(t){console.log(e),b.a.post("http://ticketbackend.gunjan.tech/login",e).then((function(e){return e.data})).then((function(e){return t(function(e){return{type:"LOGIN",payload:e}}(e))})).catch((function(e){return console.log(e)}))}}(t))}}}))(k),O=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(E.a)({},e.target.name,e.target.value))},n.state={name:"",email:"",password:"",role:""},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.signup,n=t.signupSuccess;return c.a.createElement(c.a.Fragment,null,""!==n?c.a.createElement(o.a,{to:"/login"}):"",c.a.createElement("div",{className:"container"},c.a.createElement("h3",{className:"text-center m-3"},"Signup "),c.a.createElement("div",{className:"border row offset-3 col-md-6 p-3 shadow-lg p-3 mb-5 bg-white rounded border border-info"},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"form-group col-12"},c.a.createElement("label",null,"Name"),c.a.createElement("input",{className:"form-control",name:"name",type:"text",value:this.state.name,onChange:this.handleChange,placeholder:"name"})),c.a.createElement("div",{className:"form-group col-12"},c.a.createElement("label",null,"Email"),c.a.createElement("input",{className:"form-control",name:"email",type:"email",value:this.state.email,onChange:this.handleChange,placeholder:"email"})),c.a.createElement("div",{className:"form-group col-12"},c.a.createElement("label",null,"Password"),c.a.createElement("input",{className:"form-control",name:"password",type:"password",value:this.state.password,onChange:this.handleChange,placeholder:"password"})),c.a.createElement("div",{className:"form-group col-md-4"},c.a.createElement("label",null,"Role"),c.a.createElement("select",{className:"form-control",name:"role",value:this.state.role,onChange:this.handleChange},c.a.createElement("option",null,"Role"),c.a.createElement("option",{value:"company"},"Company"),c.a.createElement("option",{value:"user"},"User")))),c.a.createElement("button",{className:"btn btn-info ml-5 mt-3",onClick:function(t){t.preventDefault(),a(e.state)}},"Signup"))))}}]),a}(n.Component),j=Object(p.b)((function(e){return{signupSuccess:e.signupSuccess}}),(function(e){return{signup:function(t){return e(function(e){return function(t){console.log(e),b.a.post("http://ticketbackend.gunjan.tech/signup",e).then((function(e){return e.data})).then((function(e){return t(function(e){return{type:"SIGNUP",payload:e}}(e))})).catch((function(e){return console.log(e)}))}}(t))}}}))(O),S=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),n=t.call(this,e),console.log(e),n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.loginSuccess,a=e.logout;return console.log(this.props),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"container-fluid text-light"},c.a.createElement("div",{className:"mb-5"},c.a.createElement("nav",{className:"navbar fixed-top p-2 shadow rounded",style:{backgroundColor:"#00BCD4"}},c.a.createElement("p",{className:"font-weight-bold h3"},"Ticket Management System"),c.a.createElement("div",{className:"float-right"},c.a.createElement("span",null,c.a.createElement("span",{className:"font-weight-bold h3 mr-3"},t&&t.name),c.a.createElement(d.b,{to:"/login"},c.a.createElement("button",{className:"btn btn-danger",onClick:function(){return a()}},"Logout"))))))))}}]),a}(n.Component),w=Object(p.b)((function(e){return{loginSuccess:e.loginSuccess}}),(function(e){return{logout:function(){return e({type:"LOGOUT"})}}}))(S),T=a(16),_=a.n(T),D=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=n.props,t=e.loginSuccess;(0,e.viewTicket)(t.id,1,5)},n.handlePagination=function(e){var t=n.props,a=t.viewTicket,c=t.view_ticket,r=t.loginSuccess;(e=Number(e))<=c.total_pages&&e>0&&a(r.id,e,5),n.setState({curr_page:e})},n.state={priority:"",status:"",curr_page:1},n}return Object(i.a)(a,[{key:"render",value:function(){for(var e=this,t=this.props.view_ticket,a=this.state.curr_page,n=[],r=1;r<=t.total_pages;r++)n.push(r);return c.a.createElement(c.a.Fragment,null,c.a.createElement("nav",{className:"d-flex justify-content-center mt-5"},c.a.createElement("ul",{className:"pagination"},c.a.createElement("li",{className:"page-item disabled"},c.a.createElement("button",{className:"page-link",onClick:function(){return e.handlePagination(a>1?a-1:1)}},c.a.createElement(d.b,{to:"/companyDashboard/page/".concat(a>1?a-1:1)},"Prev"))),n.map((function(t){return c.a.createElement("li",{key:Object(T.v4)(),className:"page-item"},c.a.createElement("button",{className:"page-link",onClick:function(){return e.handlePagination(t)}},c.a.createElement(d.b,{to:"/companyDashboard/page/".concat(t)},t)))})),c.a.createElement("li",{className:"page-item"},c.a.createElement("button",{className:"page-link",onClick:function(){return e.handlePagination(a<t.total_pages?a+1:n[n.length-1])}},c.a.createElement(d.b,{to:"/companyDashboard/page/".concat(a<t.total_pages?a+1:n[n.length-1])},"Next"))))))}}]),a}(n.Component),x=Object(p.b)((function(e){return{view_ticket:e.view_ticket,loginSuccess:e.loginSuccess}}),(function(e){return{viewTicket:function(t,a,n){return e(v(t,a,n))}}}))(D),I=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={priority:"",status:""},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.view_ticket;return c.a.createElement(c.a.Fragment,null,c.a.createElement(w,null),c.a.createElement("div",{className:"container-fluid",style:{marginTop:"150px"}},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"offset-1 col-10"},c.a.createElement("div",{className:"table-responsive-sm"},c.a.createElement("table",{className:"table"},c.a.createElement("thead",null,c.a.createElement("tr",{className:"table-info"},c.a.createElement("th",{scope:"col"},"Id"),c.a.createElement("th",{scope:"col"},"Title"),c.a.createElement("th",{scope:"col"},"Category"),c.a.createElement("th",{scope:"col"},"Priority"),c.a.createElement("th",{scope:"col"},"Status"),c.a.createElement("th",null,"Resolve"))),c.a.createElement("tbody",null,e.data&&e.data.map((function(e){return c.a.createElement("tr",{className:"table-success",key:e.id},c.a.createElement("th",{scope:"row"},e.id),c.a.createElement("td",{className:"text-danger"},e.title),c.a.createElement("td",null,e.category),c.a.createElement("td",null,e.priority),c.a.createElement("td",null,e.status),c.a.createElement("td",null,c.a.createElement(d.b,{to:"/change_status/".concat(e.id)},"change status")))}))))),c.a.createElement(x,null)))))}}]),a}(n.Component),M=Object(p.b)((function(e){return{view_ticket:e.view_ticket,loginSuccess:e.loginSuccess}}),(function(e){return{viewTicket:function(t){return e(v(t))}}}))(I),U=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){(0,n.props.companyDetails)()},n.handleChange=function(e){n.setState(Object(E.a)({},e.target.name,e.target.value))},n.state={title:"",category:"",priority:"",company:"",user_id:n.props.loginSuccess.id},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.companyData,n=t.addTicket,r=t.ticketMsg;return console.log(r),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"container",style:{marginTop:"150px"}},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-6"},c.a.createElement("div",{className:"card shadow p-3 mb-5 bg-white rounded",style:{width:"30rem"}},c.a.createElement("div",{className:"card-header bg-info"},"Add Ticket"),c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"form-group col-12"},c.a.createElement("label",null,"Title"),c.a.createElement("input",{className:"form-control",name:"title",value:this.state.title,onChange:this.handleChange,placeholder:"title"})),c.a.createElement("div",{className:"row pl-3"},c.a.createElement("div",{className:"form-group col-md-5"},c.a.createElement("label",null,"category"),c.a.createElement("select",{className:"form-control",name:"category",value:this.state.category,onChange:this.handleChange},c.a.createElement("option",null,"Category"),c.a.createElement("option",{value:"hardware"},"Hardware"),c.a.createElement("option",{value:"software"},"Software"),c.a.createElement("option",{value:"application"},"Application"))),c.a.createElement("div",{className:"form-group col-md-5"},c.a.createElement("label",null,"Priority"),c.a.createElement("select",{className:"form-control",name:"priority",value:this.state.priority,onChange:this.handleChange},c.a.createElement("option",null,"Proiroty"),c.a.createElement("option",{value:"1"},"1"),c.a.createElement("option",{value:"2"},"2"),c.a.createElement("option",{value:"3"},"3")))),c.a.createElement("div",{className:"form-group col-md-5"},c.a.createElement("label",null,"Company Name"),c.a.createElement("select",{className:"form-control",name:"company",value:this.state.company,onChange:this.handleChange},c.a.createElement("option",null,"Company"),a&&a.map((function(e){return c.a.createElement("option",{key:_()(),value:e.id},e.name)})))),c.a.createElement("button",{className:"btn btn-info ml-3",onClick:function(t){t.preventDefault(),n(e.state)}},"Add Ticket")),c.a.createElement("p",null,r&&r.message))),c.a.createElement("div",{className:"col-6 "},c.a.createElement("div",{className:"d-flex justify-content-center m-1"},c.a.createElement(d.b,{to:"/ticketReport"},c.a.createElement("div",{className:"card",style:{width:"22rem"}},c.a.createElement("img",{src:"/ticket.jpeg",className:"card-img-top",alt:"..."}),c.a.createElement("div",{className:"card-body d-flex justify-content-center"},c.a.createElement("button",{className:"btn btn-info"},"View Ticket")))))))))}}]),a}(n.Component),F=Object(p.b)((function(e){return{companyData:e.companyData,loginSuccess:e.loginSuccess,ticketMsg:e.ticketMsg}}),(function(e){return{companyDetails:function(t){return e((function(e){b.a.get("http://ticketbackend.gunjan.tech/company_details").then((function(e){return e.data})).then((function(t){return e(function(e){return{type:"COMPANY_DETAILS",payload:e}}(t))})).catch((function(e){return console.log(e)}))}))},addTicket:function(t){return e(function(e){return function(t){console.log(e),b.a.post("http://ticketbackend.gunjan.tech/add_ticket",e).then((function(e){return e.data})).then((function(e){return t(function(e){return{type:"ADD_TICKET",payload:e}}(e))})).catch((function(e){return console.log(e)}))}}(t))}}}))(U),P=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(E.a)({},e.target.name,e.target.value))},n.state={email:"",password:"",role:""},n}return Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"container"},c.a.createElement(w,null),c.a.createElement(F,null)))}}]),a}(n.Component),R=Object(p.b)((function(e){return{}}),(function(e){return{}}))(P),A=a(31),L=a(33),G=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).componentDidMount=function(){var t=e.props,a=t.loginSuccess;(0,t.ticketReport)(a.id)},e.handleChange=function(t){e.setState(Object(E.a)({},t.target.name,t.target.value))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.allUserTicket,a=e.match;return console.log(t),c.a.createElement(c.a.Fragment,null,c.a.createElement(w,null),c.a.createElement("div",{className:"container-fluid pl-5 pr-5",style:{marginTop:"150px"}},c.a.createElement("div",{className:"table-responsive-lg"},c.a.createElement("table",{className:"table"},c.a.createElement("thead",null,c.a.createElement("tr",{className:"table-info"},c.a.createElement("th",{scope:"col"},"Id"),c.a.createElement("th",{scope:"col"},"Title"),c.a.createElement("th",{scope:"col"},"Category"),c.a.createElement("th",{scope:"col"},"Company"),c.a.createElement("th",{scope:"col"},"Status"),c.a.createElement("th",null),c.a.createElement("th",null))),c.a.createElement("tbody",null,t&&t.map((function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("tr",{key:_()(),className:"table-success"},c.a.createElement("td",null,e.id),c.a.createElement("td",{className:"text-danger"},e.title),c.a.createElement("td",null,e.category),c.a.createElement("td",null,e.company),c.a.createElement("td",null,e.status),c.a.createElement("td",null,c.a.createElement(d.b,{to:"".concat(a.url,"/edit/").concat(e.id)},c.a.createElement(A.a,{icon:L.a}))),c.a.createElement("td",null,c.a.createElement(d.b,{to:"".concat(a.url,"/view/").concat(e.id)},c.a.createElement(A.a,{icon:L.b})))))})))))))}}]),a}(n.Component),Y=Object(p.b)((function(e){return{loginSuccess:e.loginSuccess,allUserTicket:e.allUserTicket}}),(function(e){return{ticketReport:function(t){return e(function(e){return function(t){console.log(e),b.a.get("http://ticketbackend.gunjan.tech/ticket_report/".concat(e)).then((function(e){return e.data})).then((function(e){return t(function(e){return{type:"TICKET_REPORT",payload:e}}(e))})).catch((function(e){return console.log(e)}))}}(t))}}}))(G),K=a(24),V=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=n.props,t=e.view_ticket,a=e.getComment,c=e.match,r=t.data.find((function(e){return e.id===Number(c.params.id)}));a(c.params.id),n.setState({status:r.status})},n.handleChange=function(e){n.setState({comment:e.target.value})},n.handleClick=function(){(0,n.props.changeStatus)(n.state)},n.state={status:"",comment:"",comment_by:n.props.loginSuccess.role,id:n.props.loginSuccess.id,comment_time:Object(K.a)(new Date,"YYYY-MM-DD hh:mm:ss"),ticket_id:n.props.match.params.id},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.view_ticket,n=t.match,r=t.getComments,l=t.loginSuccess,o=t.addComment,s=a.data.find((function(e){return e.id===Number(n.params.id)}));return console.log(s,a.data,r,l),c.a.createElement(c.a.Fragment,null,c.a.createElement(w,null),c.a.createElement("div",{className:"container",style:{marginTop:"150px"}},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"offset-2 col-8"},c.a.createElement("div",{className:"card border-info mb-3"},c.a.createElement("div",{className:"card-header"},"Ticket Information"),c.a.createElement("div",{className:"card-body lead"},c.a.createElement("h5",{className:"card-title"},s.title),c.a.createElement("p",{className:"card-text"},"User Name : ",s.name," "),c.a.createElement("span",null,c.a.createElement("h6",{className:"card-text pr-3"},"Status : ",s.status),c.a.createElement("h6",{className:"card-text pr-3"},"Category : ",s.category))),c.a.createElement("div",{className:"input-group mb-3 m-2"},c.a.createElement("select",{className:"custom-select",id:"inputGroupSelect02",name:"status",value:this.state.status,onChange:function(t){return e.setState({status:t.target.value})}},c.a.createElement("option",null,"Change "),c.a.createElement("option",{value:"assign"},"Assign"),c.a.createElement("option",{value:"in_process"},"In Process"),c.a.createElement("option",{value:"closed"},"Closed")),c.a.createElement("div",{className:"input-group-append mr-4"},c.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(){return e.handleClick()}},"Change Status"))),c.a.createElement("div",{className:"m-2 p-2 bg-dark"},c.a.createElement("div",{className:"float-right "},r&&r.map((function(t){return c.a.createElement("div",{key:Object(T.v4)(),className:"border rounded m-3",style:{width:"300px"}},c.a.createElement("div",{className:"bg-light"},"user"===e.props.loginSuccess.role?c.a.createElement("strong",null,"user"===t.comment_by?e.props.loginSuccess.name:"company"):"","company"===e.props.loginSuccess.role?c.a.createElement("strong",null," ","company"===t.comment_by?"you":"user"):"",c.a.createElement("small",{className:"float-right text-muted"},t.comment_time)),c.a.createElement("div",{style:{backgroundColor:"#ECEFF1"}},t.comment))}))),c.a.createElement("div",{className:"input-group mb-3"},c.a.createElement("textarea",{className:"form-control ",placeholder:"Type your message here...",rows:"3",value:this.state.comment,onChange:function(t){return e.handleChange(t)}}),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",style:{backgroundColor:"#ECEFF1"},onClick:function(){o([e.state,n.params.id])}},"Enter")))))))))}}]),a}(n.Component),H=Object(p.b)((function(e){return{view_ticket:e.view_ticket,loginSuccess:e.loginSuccess,getComments:e.getComments}}),(function(e){return{changeStatus:function(t){return e(function(e){return function(t){console.log(e);var a=e.ticket_id,n=e.status,c=e.id;console.log(a,n),b.a.get("http://ticketbackend.gunjan.tech/change_status/".concat(a,"/").concat(n)).then((function(e){return e.data})).then((function(e){return t(v(c))})).then((function(e){return t(y(a))})).catch((function(e){return console.log(e)}))}}(t))},getComment:function(t){return e(y(t))},addComment:function(t){return e(N(t))}}}))(V),B=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=n.props,t=e.allUserTicket,a=e.match,c=t.find((function(e){return e.id===Number(a.params.id)}));n.setState({title:c.title,category:c.category,priority:c.priority,company:c.company_id,ticket_id:c.id}),console.log(n.state)},n.handleChange=function(e){n.setState(Object(E.a)({},e.target.name,e.target.value))},n.state={title:"",category:"",priority:"",company:"",ticket_id:""},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.companyData,n=t.editTicket,r=t.editSuccess;return c.a.createElement(c.a.Fragment,null,r&&""!==r?c.a.createElement(o.a,{to:"/ticketReport"}):"",c.a.createElement(w,null),c.a.createElement("div",{className:"container",style:{marginTop:"150px"}},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"offset-3 col-6"},c.a.createElement("div",{className:"card shadow p-3 mb-5 bg-white rounded",style:{width:"30rem"}},c.a.createElement("div",{className:"card-header bg-info"},"Add Ticket"),c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"form-group col-12"},c.a.createElement("label",null,"Title"),c.a.createElement("input",{className:"form-control",name:"title",value:this.state.title,onChange:this.handleChange,placeholder:"title"})),c.a.createElement("div",{className:"row pl-3"},c.a.createElement("div",{className:"form-group col-md-5"},c.a.createElement("label",null,"category"),c.a.createElement("select",{className:"form-control",name:"category",value:this.state.category,onChange:this.handleChange},c.a.createElement("option",null,"Category"),c.a.createElement("option",{value:"hardware"},"Hardware"),c.a.createElement("option",{value:"software"},"Software"),c.a.createElement("option",{value:"application"},"Application"))),c.a.createElement("div",{className:"form-group col-md-5"},c.a.createElement("label",null,"Priority"),c.a.createElement("select",{className:"form-control",name:"priority",value:this.state.priority,onChange:this.handleChange},c.a.createElement("option",null,"Proiroty"),c.a.createElement("option",{value:"1"},"1"),c.a.createElement("option",{value:"2"},"2"),c.a.createElement("option",{value:"3"},"3")))),c.a.createElement("div",{className:"form-group col-md-5"},c.a.createElement("label",null,"Company Name"),c.a.createElement("select",{className:"form-control",name:"company",value:this.state.company,onChange:this.handleChange},c.a.createElement("option",null,"Company"),a&&a.map((function(e){return c.a.createElement("option",{key:_()(),value:e.id},e.name)})))),c.a.createElement("button",{className:"btn btn-info ml-3",onClick:function(t){t.preventDefault(),n(e.state)}},"Edit Ticket")))))))}}]),a}(n.Component),J=Object(p.b)((function(e){return{companyData:e.companyData,allUserTicket:e.allUserTicket,editSuccess:e.editSuccess}}),(function(e){return{editTicket:function(t){return e(function(e){return function(t){console.log(e),b.a.post("http://ticketbackend.gunjan.tech/ticket_update",e).then((function(e){return e.data})).then((function(e){return t(function(e){return{type:"EDIT_TICKET",payload:e}}(e))})).catch((function(e){return console.log(e)}))}}(t))}}}))(B),W=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=n.props;(0,e.getComment)(e.match.params.id)},n.handleChange=function(e){n.setState({comment:e.target.value})},n.state={comment:"",comment_by:n.props.loginSuccess.role,comment_time:Object(K.a)(new Date,"YYYY-MM-DD hh:mm:ss"),ticket_id:n.props.match.params.id},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.allUserTicket,n=t.getComments,r=t.match,l=t.addComment,o=a.find((function(e){return e.id===Number(r.params.id)}));return console.log(o,n),c.a.createElement(c.a.Fragment,null,c.a.createElement(w,null),c.a.createElement("div",{className:"container",style:{marginTop:"150px"}},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"offset-2 col-8"},c.a.createElement("div",{className:"card border-info mb-3"},c.a.createElement("div",{className:"card-header"},"Ticket Information"),c.a.createElement("div",{className:"card-body lead"},c.a.createElement("h5",{className:"card-title"},o.title),c.a.createElement("p",{className:"card-text"},"Company Name : ",o.company," "),c.a.createElement("span",null,c.a.createElement("h6",{className:"card-text pr-3"},"Status : ",o.status),c.a.createElement("h6",{className:"card-text pr-3"},"Category : ",o.category))),c.a.createElement("div",{className:"m-2 p-2 bg-dark"},c.a.createElement("div",{className:"float-right "},n&&n.map((function(t){return c.a.createElement("div",{className:"border rounded m-3",style:{width:"300px"},key:_()()},c.a.createElement("div",{className:"bg-light"},"user"===e.props.loginSuccess.role?c.a.createElement("strong",null,"user"===t.comment_by?e.props.loginSuccess.name:"company"):"","company"===e.props.loginSuccess.role?c.a.createElement("strong",null," ","company"===t.comment_by?"you":"user"):"",c.a.createElement("small",{className:"float-right text-muted"},t.comment_time)),c.a.createElement("div",{style:{backgroundColor:"#ECEFF1"}},t.comment))}))),c.a.createElement("div",{className:"input-group mb-3"},c.a.createElement("textarea",{className:"form-control ",placeholder:"Type your message here...",rows:"3",value:this.state.comment,onChange:function(t){return e.handleChange(t)}}),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",style:{backgroundColor:"#ECEFF1"},onClick:function(){l([e.state,r.params.id])}},"Enter")))))))))}}]),a}(n.Component),X=Object(p.b)((function(e){return{allUserTicket:e.allUserTicket,getComments:e.getComments,loginSuccess:e.loginSuccess}}),(function(e){return{getComment:function(t){return e(y(t))},addComment:function(t){return e(N(t))}}}))(W),q=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(o.d,null,c.a.createElement(o.b,{path:"/",exact:!0,component:h}),c.a.createElement(o.b,{path:"/login",component:C}),c.a.createElement(o.b,{path:"/signUp",component:j}),c.a.createElement(o.b,{path:"/companyDashboard",component:M}),c.a.createElement(o.b,{path:"/userDashboard",component:R}),c.a.createElement(o.b,{path:"/ticketReport/view/:id",component:X}),c.a.createElement(o.b,{path:"/ticketReport/edit/:id",component:J}),c.a.createElement(o.b,{path:"/ticketReport",component:Y}),c.a.createElement(o.b,{path:"/change_status/:id",component:H})))};var z=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(q,null))},Q=a(20),Z=a(11),$={loginSuccess:[],signupSuccess:"",companyData:[],ticketMsg:[],allUserTicket:[],view_ticket:[],editSuccess:"",getComments:[]},ee=a(49),te=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Q.c,ae=Object(Q.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(console.log(n),a){case"LOGIN":if("logged_in"===n.message)return Object(Z.a)(Object(Z.a)({},e),{},{loginSuccess:n});alert(n.message);break;case"SIGNUP":return alert(n.message),Object(Z.a)(Object(Z.a)({},e),{},{signupSuccess:n.message});case"COMPANY_DETAILS":return Object(Z.a)(Object(Z.a)({},e),{},{companyData:n.data});case"ADD_TICKET":return Object(Z.a)(Object(Z.a)({},e),{},{ticketMsg:n});case"TICKET_REPORT":return Object(Z.a)(Object(Z.a)({},e),{},{allUserTicket:n.data,editSuccess:""});case"LOGOUT":return Object(Z.a)(Object(Z.a)({},e),{},{loginSuccess:[]});case"VIEW_TICKET":return Object(Z.a)(Object(Z.a)({},e),{},{view_ticket:n});case"CHANGE_STATUS":alert(n);break;case"EDIT_TICKET":return alert(n),Object(Z.a)(Object(Z.a)({},e),{},{editSuccess:n});case"GET_COMMENTS":return Object(Z.a)(Object(Z.a)({},e),{},{getComments:n.data});default:return e}}),te(Object(Q.a)(ee.a)));a(85);l.a.render(c.a.createElement(d.a,null,c.a.createElement(p.a,{store:ae},c.a.createElement(z,null))),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.438425b5.chunk.js.map